{"ast":null,"code":"var _jsxFileName = \"/Users/behailuassefa12gmail.com/Desktop/Evangadi-Forum/evangadi-Forum/client/src/App.js\",\n  _s = $RefreshSig$();\n// import React from 'react'\n\n// function App() {\n//   return (\n//     <div>\n//       <h1>Hello Evangadi</h1>\n//     </div>\n//   )\n// }\n\n// export default App\n// \nimport \"./App.css\";\nimport axios from \"axios\";\nimport Navbars from \"./component/Nav/Navbars\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport Footer from \"./component/Footer/Footer\";\nimport Login from \"./component/user/Login\";\nimport { BrowserRouter as Router, Routes, Route } from \"react-router-dom\";\nimport AskQustion from \"./component/AskQuastion/AskQustion\";\nimport Answer from \"./component/Answer/Answer\";\nimport ListQuastion from \"./component/ListQuastion/ListQuastion\";\nimport { useContext, useEffect } from \"react\";\nimport { UserContext } from \"./context/UseContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [userData, setUserData] = useContext(UserContext);\n  const checkLoggedIn = async () => {\n    var _localStorage;\n    //check if the token already exist in local storage\n    let token = (_localStorage = localStorage) === null || _localStorage === void 0 ? void 0 : _localStorage.getItem(\"auth-token\");\n    if (token === null) {\n      var _localStorage2;\n      //token doesnt exist in local storage then set auth token empty\n      (_localStorage2 = localStorage) === null || _localStorage2 === void 0 ? void 0 : _localStorage2.setItem(\"auth-token\", \"\");\n      token = \"\";\n    } else {\n      //if token exist in localstorage then use auth to verify token and get user info\n      const userRes = await (axios === null || axios === void 0 ? void 0 : axios.get(\"http://localhost:5000/api/users\", {\n        headers: {\n          \"x-auth-token\": token\n        }\n      }));\n\n      // set the global state with user info\n      setUserData({\n        token,\n        user: {\n          id: userRes === null || userRes === void 0 ? void 0 : userRes.data.data.user_id,\n          display_name: userRes === null || userRes === void 0 ? void 0 : userRes.data.data.user_name\n        }\n      });\n    }\n  };\n\n  // const logout = () => {\n  //   //set global state to undefined will logout the user\n  //   setUserData({\n  //     token: undefined,\n  //     user: undefined,\n  //   });\n\n  //   //resetting localStorage\n  //   localStorage.setItem(\"auth-token\", \"\");\n  // };\n\n  useEffect(() => {\n    //check if the user is logged in\n    checkLoggedIn();\n  }, []);\n  console.log(userData);\n  return /*#__PURE__*/_jsxDEV(Router, {\n    children: /*#__PURE__*/_jsxDEV(Routes, {\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        path: \"/\",\n        element: /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Navbars, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Login, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/AskQustion\",\n        element: /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Navbars, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(AskQustion, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/ListQuastion/:id\",\n        element: /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Navbars, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Answer, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/ListQuastion\",\n        element: /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Navbars, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(ListQuastion, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"n06THXQWZF4ZrCZSgoTfCL2ZI/A=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["axios","Navbars","Footer","Login","BrowserRouter","Router","Routes","Route","AskQustion","Answer","ListQuastion","useContext","useEffect","UserContext","jsxDEV","_jsxDEV","Fragment","_Fragment","App","_s","userData","setUserData","checkLoggedIn","_localStorage","token","localStorage","getItem","_localStorage2","setItem","userRes","get","headers","user","id","data","user_id","display_name","user_name","console","log","children","path","element","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/behailuassefa12gmail.com/Desktop/Evangadi-Forum/evangadi-Forum/client/src/App.js"],"sourcesContent":["// import React from 'react'\n\n// function App() {\n//   return (\n//     <div>\n//       <h1>Hello Evangadi</h1>\n//     </div>\n//   )\n// }\n\n// export default App\n// \nimport \"./App.css\";\nimport axios from \"axios\";\nimport Navbars from \"./component/Nav/Navbars\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport Footer from \"./component/Footer/Footer\";\nimport Login from \"./component/user/Login\";\nimport { BrowserRouter as Router, Routes, Route } from \"react-router-dom\";\nimport AskQustion from \"./component/AskQuastion/AskQustion\";\nimport Answer from \"./component/Answer/Answer\";\nimport ListQuastion from \"./component/ListQuastion/ListQuastion\";\nimport { useContext, useEffect } from \"react\";\nimport { UserContext } from \"./context/UseContext\";\nfunction App() {\n  const [userData, setUserData] = useContext(UserContext);\n\n  const checkLoggedIn = async () => {\n    //check if the token already exist in local storage\n    let token = localStorage?.getItem(\"auth-token\");\n    if (token === null) {\n      //token doesnt exist in local storage then set auth token empty\n      localStorage?.setItem(\"auth-token\", \"\");\n      token = \"\";\n    } else {\n      //if token exist in localstorage then use auth to verify token and get user info\n      const userRes = await axios?.get(\"http://localhost:5000/api/users\", {\n        headers: { \"x-auth-token\": token },\n      });\n\n      // set the global state with user info\n      setUserData({\n        token,\n        user: {\n          id: userRes?.data.data.user_id,\n          display_name: userRes?.data.data.user_name,\n        },\n      });\n    }\n  };\n\n  // const logout = () => {\n  //   //set global state to undefined will logout the user\n  //   setUserData({\n  //     token: undefined,\n  //     user: undefined,\n  //   });\n\n  //   //resetting localStorage\n  //   localStorage.setItem(\"auth-token\", \"\");\n  // };\n\n  useEffect(() => {\n    //check if the user is logged in\n    checkLoggedIn();\n  }, []);\n  console.log(userData);\n  return (\n    <Router>\n      <Routes>\n        <Route\n          path=\"/\"\n          element={\n            <>\n              <Navbars />\n              <Login />\n              <Footer />\n            </>\n          }\n        />\n        {/* <Route\n          path=\"/Login\"\n          element={\n            <>\n              <Navbars />\n              <Login />\n              <Footer />\n            </>\n          }\n        /> */}\n        <Route\n          path=\"/AskQustion\"\n          element={\n            <>\n              <Navbars />\n              <AskQustion />\n            </>\n          }\n        />\n        <Route\n          path=\"/ListQuastion/:id\"\n          element={\n            <>\n              <Navbars />\n              <Answer />\n            </>\n          }\n        />\n        {/* <Route\n          path=\"/Answer\"\n          element={\n            <>\n              <Navbars />\n              <Answer />\n            </>\n          }\n        /> */}\n        <Route\n          path=\"/ListQuastion\"\n          element={\n            <>\n              <Navbars />\n              <ListQuastion />\n            </>\n          }\n        />\n      </Routes>\n    </Router>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}